
案例1

cat << EOF > http.yaml
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: httpd-test
spec:
  rules:
  - host: foo.bar.com
    http:
      paths:
      - backend:
          serviceName: httpd
          servicePort: 80
  - host: bar.baz.com
    http:
      paths:
      - backend:
          serviceName: nginx
          servicePort: 80
EOF



案例2


cat << EOF> https.yaml
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: https-test
spec:
  tls:
  - hosts:
    - www.aliangedu.com
    secretName: aliangedu-https
  rules:
  - host: www.aliangedu.com
    http:
      paths:
      - backend:
          serviceName: nginx
          servicePort: 80
EOF

注意：每一个节点都要有nginx-ingress-controller，例如有三个节点，则用下面命令扩充一个

[root@k8s-master ingress]# kubectl scale --replicas=3 deploy/nginx-ingress-controller -n ingress-nginx


详细配置请参阅：  https://github.com/hx6007/Kubernetes-my-study/blob/master/Course-Lizhenliang/%E7%AC%AC09%E8%8A%82%202%20Ingress%20http%E5%92%8Chttps%E7%BD%91%E7%AB%99%E6%B5%8B%E8%AF%95
